{"ast":null,"code":"\"use strict\";\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n      get: () => from[key],\n      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n    });\n  }\n  return to;\n};\nvar __toCommonJS = mod => __copyProps(__defProp({}, \"__esModule\", {\n  value: true\n}), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  default: () => VuexPersistedstate\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/core/storage.ts\nvar getItem = key => {\n  const val = JSON.parse(window.localStorage.getItem(key));\n  if (!val) {\n    return {};\n  }\n  return val.value || {};\n};\nvar setItem = (key, value) => {\n  let val = {\n    value\n  };\n  let valStr = JSON.stringify(val);\n  window.localStorage.setItem(key, valStr);\n};\nvar removeItem = key => {\n  window.localStorage.removeItem(key);\n};\nvar storage = {\n  getItem,\n  setItem,\n  removeItem\n};\nvar storage_default = storage;\n\n// src/core/options.ts\nvar defaultOptions = {\n  key: \"VUEX-PERSISTEDSTATE\",\n  paths: [],\n  fetchBeforeUse: true,\n  fetchBeforeUseFn(key, storage2) {\n    return storage2.getItem(key);\n  },\n  storage: storage_default\n};\n\n// src/core/persistedstate.ts\nfunction matchPaths(paths, mutation) {\n  if (paths.length === 0) {\n    return true;\n  }\n  const moduleName = mutation.type.split(\"/\")[0];\n  if (!moduleName) {\n    return false;\n  }\n  return paths.includes(moduleName);\n}\n\n// src/index.ts\nvar catchData = {};\nfunction VuexPersistedstate({\n  key = defaultOptions.key,\n  paths = defaultOptions.paths,\n  storage: storage2 = defaultOptions.storage,\n  fetchBeforeUse = defaultOptions.fetchBeforeUse,\n  fetchBeforeUseFn = defaultOptions.fetchBeforeUseFn\n} = defaultOptions) {\n  if (fetchBeforeUse) {\n    catchData = fetchBeforeUseFn(key, storage2);\n  }\n  return store => {\n    for (const key2 in catchData) {\n      if (Object.prototype.hasOwnProperty.call(catchData, key2)) {\n        const value = catchData[key2];\n        store.commit(key2, value);\n      }\n    }\n    store.subscribe((mutation, state) => {\n      if (matchPaths(paths, mutation)) {\n        catchData[mutation.type] = mutation.payload;\n        storage2.setItem(key, catchData);\n      }\n    });\n  };\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {});","map":{"version":3,"names":["__defProp","Object","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__hasOwnProp","prototype","hasOwnProperty","__export","target","all","name","get","enumerable","__copyProps","to","from","except","desc","key","call","__toCommonJS","mod","value","src_exports","default","VuexPersistedstate","module","exports","getItem","val","JSON","parse","window","localStorage","setItem","valStr","stringify","removeItem","storage","storage_default","defaultOptions","paths","fetchBeforeUse","fetchBeforeUseFn","storage2","matchPaths","mutation","length","moduleName","type","split","includes","catchData","store","key2","commit","subscribe","state","payload"],"sources":["C:/Dev/vue-3-router/02/demos/02_03/node_modules/vuex-plugin-persistedstate/dist/index.js"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  default: () => VuexPersistedstate\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/core/storage.ts\nvar getItem = (key) => {\n  const val = JSON.parse(window.localStorage.getItem(key));\n  if (!val) {\n    return {};\n  }\n  return val.value || {};\n};\nvar setItem = (key, value) => {\n  let val = {\n    value\n  };\n  let valStr = JSON.stringify(val);\n  window.localStorage.setItem(key, valStr);\n};\nvar removeItem = (key) => {\n  window.localStorage.removeItem(key);\n};\nvar storage = {\n  getItem,\n  setItem,\n  removeItem\n};\nvar storage_default = storage;\n\n// src/core/options.ts\nvar defaultOptions = {\n  key: \"VUEX-PERSISTEDSTATE\",\n  paths: [],\n  fetchBeforeUse: true,\n  fetchBeforeUseFn(key, storage2) {\n    return storage2.getItem(key);\n  },\n  storage: storage_default\n};\n\n// src/core/persistedstate.ts\nfunction matchPaths(paths, mutation) {\n  if (paths.length === 0) {\n    return true;\n  }\n  const moduleName = mutation.type.split(\"/\")[0];\n  if (!moduleName) {\n    return false;\n  }\n  return paths.includes(moduleName);\n}\n\n// src/index.ts\nvar catchData = {};\nfunction VuexPersistedstate({\n  key = defaultOptions.key,\n  paths = defaultOptions.paths,\n  storage: storage2 = defaultOptions.storage,\n  fetchBeforeUse = defaultOptions.fetchBeforeUse,\n  fetchBeforeUseFn = defaultOptions.fetchBeforeUseFn\n} = defaultOptions) {\n  if (fetchBeforeUse) {\n    catchData = fetchBeforeUseFn(key, storage2);\n  }\n  return (store) => {\n    for (const key2 in catchData) {\n      if (Object.prototype.hasOwnProperty.call(catchData, key2)) {\n        const value = catchData[key2];\n        store.commit(key2, value);\n      }\n    }\n    store.subscribe((mutation, state) => {\n      if (matchPaths(paths, mutation)) {\n        catchData[mutation.type] = mutation.payload;\n        storage2.setItem(key, catchData);\n      }\n    });\n  };\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}